{"version":3,"sources":["projects.js"],"names":["jQuery","document","ready","$","Centerify","elem","options","onResize","self","windowHeight","window","height","windowWidth","width","offsetPercentage","offset","centerOnSegment","percentage","isAnimating","scrollDone","off","scrollEvent","unbind","bodyAndHeadEl","get","scrollTop","e","which","type","stop","bind","clearTimeout","onScrollTimer","animate","Math","round","speed","this","$elem","$sections","children","wait","setTimeout","currentScroll","currentPercentage","toFixed","currentModulo","abs","console","log","fn","centerify","each","data"],"mappings":"AAAAA,OAAOC,UAAUC,MAAM,SAAUC,IAE7B,WACI,QAASC,GAAUC,EAAMC,GAgBrB,QAASC,KACLC,EAAKC,aAAeN,EAAEO,QAAQC,SAC9BH,EAAKI,YAAcT,EAAEO,QAAQG,QAC7BL,EAAKM,iBAAmBN,EAAKO,OAASP,EAAKC,aAG/C,QAASO,GAAgBC,GACrB,MAAKA,GAAcT,EAAKU,aAAgBV,EAAKC,aAAe,KAASD,EAAKI,YAAc,KAAxF,CAIA,GAAIO,GAAa,WACbX,EAAKU,aAAc,EAEnBf,EAAEO,QAAQU,IAAI,SAAUC,GACxBlB,EAAEO,QAAQY,OAAO,yDAA0DD,GAEvEb,EAAKe,cAAcC,IAAI,GAAGC,WAK9BJ,EAAc,SAASK,IACnBA,EAAEC,MAAQ,GAAe,aAAVD,EAAEE,MAAiC,cAAVF,EAAEE,QAC1CpB,EAAKe,cAAcM,OACnBV,KAIRhB,GAAEO,QAAQoB,KAAK,yDAA0DT,GACzEU,aAAavB,EAAKwB,eAElBxB,EAAKU,aAAc,EACnBV,EAAKe,cAAcM,OAAOI,SACtBR,UAAYS,KAAKC,MAAMlB,GAAcT,EAAKC,aAAeD,EAAKO,QAC/DP,EAAK4B,MAAO,WACX,MAAOjB,QAnDf,GAAIX,GAAO6B,IACX7B,GAAK8B,MAAQnC,EAAEE,GACfG,EAAK+B,UAAY/B,EAAK8B,MAAME,SAAS,YACrChC,EAAKU,aAAc,EACnBV,EAAKe,cAAgBpB,EAAE,QACvBK,EAAK4B,MAAQ,IACb5B,EAAKiC,KAAO,IACZjC,EAAKO,OAAS,IAId,WACIR,OA2CJJ,EAAEO,QAAQoB,KAAK,SAAU,WACrBC,aAAavB,EAAKwB,eAElBxB,EAAKwB,cAAgBU,WAAW,WAC5B,GAAIC,GAAiBnC,EAAKe,cAAcE,YACpCmB,GAAsBD,EAAgBnC,EAAKC,aAAgBD,EAAKM,kBAAkB+B,QAAQ,GAC1FC,EAAgBZ,KAAKa,IAAIH,EAAoB,EACjDI,SAAQC,IAAIH,GAERF,GAAqB,MAASE,EAAgB,KAAQA,EAAgB,MACtE9B,EAAgB4B,IAErBpC,EAAKiC,QAGZtC,EAAEO,QAAQoB,KAAK,SAAU,WACrBvB,MAIRJ,EAAE+C,GAAGC,UAAY,SAAS7C,GACtB,MAAO+B,MAAKe,KAAK,WACRjD,EAAEkC,MAAMgB,KAAK,cACdlD,EAAEkC,MAAMgB,KAAK,YAAa,GAAIjD,GAAUiC,KAAM/B,UAK9DH,EAAE,aAAagD","file":"../projects.min.js","sourcesContent":["jQuery(document).ready(function ($) {\n\n    (function() {\n        function Centerify(elem, options) {\n            var self = this;\n            self.$elem = $(elem);\n            self.$sections = self.$elem.children('.project');\n            self.isAnimating = false;\n            self.bodyAndHeadEl = $('body');\n            self.speed = 200;\n            self.wait = 500;\n            self.offset = 320;\n\n            init();\n\n            function init() {\n                onResize();\n            }\n\n            function onResize() {\n                self.windowHeight = $(window).height();\n                self.windowWidth = $(window).width();\n                self.offsetPercentage = self.offset / self.windowHeight;\n            }\n\n            function centerOnSegment(percentage) {\n                if (!percentage || self.isAnimating || (self.windowHeight < 700) || (self.windowWidth < 1000)) {\n                    return;\n                }\n\n                var scrollDone = function() {\n                    self.isAnimating = false;\n\n                    $(window).off('scroll', scrollEvent);\n                    $(window).unbind('scroll mousedown wheel DOMMouseScroll mousewheel keyup', scrollEvent);\n\n                    if (self.bodyAndHeadEl.get(0).scrollTop === 0) {\n                        return;\n                    }\n                };\n\n                var scrollEvent = function(e) {\n                    if (e.which > 0 || e.type == 'mousedown' || e.type == 'mousewheel') {\n                        self.bodyAndHeadEl.stop();\n                        scrollDone();\n                    }\n                };\n\n                $(window).bind('scroll mousedown wheel DOMMouseScroll mousewheel keyup', scrollEvent);\n                clearTimeout(self.onScrollTimer);\n\n                self.isAnimating = true;\n                self.bodyAndHeadEl.stop().animate({\n                    scrollTop: (Math.round(percentage) * self.windowHeight + self.offset)\n                }, self.speed, function () {\n                    return scrollDone();\n                });\n            }\n\n            $(window).bind('scroll', function() {\n                clearTimeout(self.onScrollTimer);\n\n                self.onScrollTimer = setTimeout(function () {\n                    var currentScroll =  self.bodyAndHeadEl.scrollTop();\n                    var currentPercentage = ((currentScroll / self.windowHeight) - self.offsetPercentage).toFixed(2);\n                    var currentModulo = Math.abs(currentPercentage % 1);\n                    console.log(currentModulo);\n\n                    if (currentPercentage > -0.14 && (currentModulo < 0.14 || currentModulo > 0.86)) {\n                        centerOnSegment(currentPercentage);\n                    }\n                }, self.wait);\n            });\n\n            $(window).bind('resize', function() {\n                onResize();\n            });\n        }\n\n        $.fn.centerify = function(options) {\n            return this.each(function() {\n                if (!$(this).data('centerify'))\n                    $(this).data('centerify', new Centerify(this, options));\n            });\n        };\n    })();\n\n    $('#projects').centerify();\n\n});\n"]}