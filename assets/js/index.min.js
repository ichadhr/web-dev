jQuery(document).ready(function(n){!function(){function e(e,t){function i(){r.windowHeight=n(window).height()}function o(e){if(e&&!r.isAnimating){var t=function(){r.isAnimating=!1,n(window).off("scroll",i),n(window).unbind("scroll mousedown wheel DOMMouseScroll mousewheel keyup",i),r.bodyAndHeadEl.get(0).scrollTop},i=function(n){(n.which>0||"mousedown"==n.type||"mousewheel"==n.type)&&(r.bodyAndHeadEl.stop(),t())};n(window).bind("scroll mousedown wheel DOMMouseScroll mousewheel keyup",i),clearTimeout(r.onScrollTimer),r.isAnimating=!0,r.bodyAndHeadEl.stop().animate({scrollTop:Math.round(e)*r.windowHeight},r.speed,function(){return t()})}}var r=this;r.$elem=n(e),r.$sections=r.$elem.children("section"),r.isAnimating=!1,r.bodyAndHeadEl=n("body"),r.count=r.$sections.length,r.speed=100,r.wait=500,function(){i()}(),n(window).bind("scroll",function(){clearTimeout(r.onScrollTimer),r.onScrollTimer=setTimeout(function(){o((r.bodyAndHeadEl.scrollTop()/r.windowHeight).toFixed(2))},r.wait)}),n(window).bind("resize",function(){i()})}n.fn.centerify=function(t){return this.each(function(){n(this).data("centerify")||n(this).data("centerify",new e(this,t))})}}(),function(){function e(){function e(n){this.el=n,this.image=this.el.previousElementSibling,this.current_frame=0,this.total_frames=120,this.path=new Array,this.length=new Array,this.handle=0,this.init()}function t(){var n=c.clientHeight,e=window.innerHeight;return n<e?e:n}function i(){return Math.max(n(document).height(),n(window).height())}function o(){return window.pageYOffset||c.scrollTop}function r(n){var e=0,t=0;do{isNaN(n.offsetTop)||(e+=n.offsetTop),isNaN(n.offsetLeft)||(t+=n.offsetLeft)}while(n=n.offsetParent);return{top:e,left:t}}function a(n,e){var i=n.offsetHeight,a=o(),s=a+t(),c=r(n).top,d=c+i,e=e||.1;return c+i*e<=s&&d>=a}function s(){var n=i(),e=t(),r=o(),a=r-e/4,s=Math.max(Math.round(4*a/n),0);d.removeClass("active"),d.eq(s).addClass("active")}var c=window.document.documentElement,d=n("#dots ul li"),u=n("body");window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(n){window.clearTimeout(n)}}(),e.prototype.init=function(){var n=this;[].slice.call(this.el.querySelectorAll("path")).forEach(function(e,t){n.path[t]=e;var i=n.path[t].getTotalLength();n.length[t]=i,n.path[t].style.strokeDasharray=i+" "+i,n.path[t].style.strokeDashoffset=i})},e.prototype.render=function(){this.rendered||(this.rendered=!0,this.draw(),n(this.el).next().addClass("animate"))},e.prototype.draw=function(){var n=this,e=this.current_frame/this.total_frames;if(e>1)window.cancelAnimFrame(this.handle),this.showImage();else{this.current_frame++;for(var t=0,i=this.path.length;t<i;t++)this.path[t].style.strokeDashoffset=Math.floor(this.length[t]*(1-e));this.handle=window.requestAnimFrame(function(){n.draw()})}},e.prototype.showImage=function(){},function(){var n,t=Array.prototype.slice.call(document.querySelectorAll("#index svg")),o=new Array,r=!1;t.forEach(function(n,t){var i=new e(n);o[t]=i,setTimeout(function(n){return function(){a(n.parentNode)&&i.render()}}(n),250)}),s(),d.click(function(){var n=i(),e=d.index(this);u.stop().animate({scrollTop:Math.round(n/4*e)},200)});var c=function(){r||(r=!0,setTimeout(function(){l()},60))},l=function(){t.forEach(function(n,e){a(n.parentNode,.5)&&o[e].render()}),s(),r=!1},w=function(){function e(){l(),n=null}n&&clearTimeout(n),n=setTimeout(e,200)};window.addEventListener("scroll",c,!1),window.addEventListener("resize",w,!1)}()}n.fn.drawify=function(t){return this.each(function(){n(this).data("drawify")||n(this).data("drawify",new e(this,t))})}}(),n("#index").drawify()});
//# sourceMappingURL=maps/index.min.js.map
