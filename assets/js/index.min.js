jQuery(document).ready(function(n){!function(){function e(e,t){function i(){o()}function o(){a.windowHeight=n(window).height()}function r(e){if(e&&!a.isAnimating){var t=function(){a.isAnimating=!1,n(window).off("scroll",i),n(window).unbind("scroll mousedown wheel DOMMouseScroll mousewheel keyup",i),0===a.bodyAndHeadEl.get(0).scrollTop},i=function(n){(n.which>0||"mousedown"==n.type||"mousewheel"==n.type)&&(a.bodyAndHeadEl.stop(),t())};n(window).bind("scroll mousedown wheel DOMMouseScroll mousewheel keyup",i),clearTimeout(a.onScrollTimer),a.isAnimating=!0,a.bodyAndHeadEl.stop().animate({scrollTop:Math.round(e)*a.windowHeight},a.speed,function(){return t()})}}var a=this;a.$elem=n(e),a.$sections=a.$elem.children("section"),a.isAnimating=!1,a.bodyAndHeadEl=n("body"),a.count=a.$sections.length,a.speed=100,a.wait=500,i(),n(window).bind("scroll",function(){clearTimeout(a.onScrollTimer),a.onScrollTimer=setTimeout(function(){var n=a.bodyAndHeadEl.scrollTop(),e=(n/a.windowHeight).toFixed(2);r(e)},a.wait)}),n(window).bind("resize",function(){o()})}n.fn.centerify=function(t){return this.each(function(){n(this).data("centerify")||n(this).data("centerify",new e(this,t))})}}(),function(){function e(){function e(n){this.el=n,this.image=this.el.previousElementSibling,this.current_frame=0,this.total_frames=120,this.path=new Array,this.length=new Array,this.handle=0,this.init()}function t(){var n=d.clientHeight,e=window.innerHeight;return n<e?e:n}function i(){return Math.max(n(document).height(),n(window).height())}function o(){return window.pageYOffset||d.scrollTop}function r(n){var e=0,t=0;do isNaN(n.offsetTop)||(e+=n.offsetTop),isNaN(n.offsetLeft)||(t+=n.offsetLeft);while(n=n.offsetParent);return{top:e,left:t}}function a(n,e){var i=n.offsetHeight,a=o(),s=a+t(),c=r(n).top,d=c+i,e=e||.1;return c+i*e<=s&&d>=a}function s(){var n=i(),e=t(),r=o(),a=r-e/4,s=Math.max(Math.round(4*a/n),0);u.removeClass("active"),u.eq(s).addClass("active")}function c(){var n,t=Array.prototype.slice.call(document.querySelectorAll("#index svg")),o=new Array,r=!1;t.forEach(function(n,t){var i=new e(n);o[t]=i,setTimeout(function(n){return function(){a(n.parentNode)&&i.render()}}(n),250)}),s(),u.click(function(){var n=i(),e=u.index(this);l.stop().animate({scrollTop:Math.round(n/4*e)},200)});var c=function(){r||(r=!0,setTimeout(function(){d()},60))},d=function(){t.forEach(function(n,e){a(n.parentNode,.5)&&o[e].render()}),s(),r=!1},w=function(){function e(){d(),n=null}n&&clearTimeout(n),n=setTimeout(e,200)};window.addEventListener("scroll",c,!1),window.addEventListener("resize",w,!1)}var d=window.document.documentElement,u=n("#dots ul li"),l=n("body");window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(n){window.clearTimeout(n)}}(),e.prototype.init=function(){var n=this;[].slice.call(this.el.querySelectorAll("path")).forEach(function(e,t){n.path[t]=e;var i=n.path[t].getTotalLength();n.length[t]=i,n.path[t].style.strokeDasharray=i+" "+i,n.path[t].style.strokeDashoffset=i})},e.prototype.render=function(){this.rendered||(this.rendered=!0,this.draw(),n(this.el).next().addClass("animate"))},e.prototype.draw=function(){var n=this,e=this.current_frame/this.total_frames;if(e>1)window.cancelAnimFrame(this.handle),this.showImage();else{this.current_frame++;for(var t=0,i=this.path.length;t<i;t++)this.path[t].style.strokeDashoffset=Math.floor(this.length[t]*(1-e));this.handle=window.requestAnimFrame(function(){n.draw()})}},e.prototype.showImage=function(){},c()}n.fn.drawify=function(t){return this.each(function(){n(this).data("drawify")||n(this).data("drawify",new e(this,t))})}}(),n("#index").drawify()});
//# sourceMappingURL=maps/index.min.js.map
